{"componentChunkName":"component---src-templates-jupyter-notebook-js","path":"/data-science/ceph-drive-failure/notebooks/step0_smartctl_json_db_format_finder.ipynb","result":{"data":{"site":{"siteMetadata":{"title":"Operate First"}},"jupyterNotebook":{"id":"64253b00-dbe9-520e-8310-08821d7eb463 >>> JupyterNotebook","html":"<div class=\"notebook-render\"><div class=\"sc-ifAKCX zMCZx\"><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-iwsKbI exQuEV markdown\"><h1>Step 0: Know Thy Data Format</h1>\n<p>At Red Hat, Backblaze Q4 2018 dataset files (.csv) were downloaded and converted to look like the json output from <code>smartctl</code> command. These json files are quite complex structure (deeply nested). The purpose of this notebook is to identify and describe this structure/schema.</p>\n<p><strong>NOTE</strong>: If you are not using the json-files-version of Bacblaze dataset at Red Hat, this notebook may not relevant for you.</p>\n<p>The Q4 2018 dataset consists of 92 json files. Each file contains features like SMART stats, model number, capacity, etc for ~96000 hard drives. Assuming that format is consistent across all 92 files, only one such file is needed to decipher the dataset schema.</p></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[1]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#0000ff\">import</span> numpy <span class=\"token\" style=\"color:#0000ff\">as</span> np\n<span class=\"token\" style=\"color:#0000ff\">import</span> pandas <span class=\"token\" style=\"color:#0000ff\">as</span> pd</code></pre></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[12]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># reading the entire file is slow, and not very useful for this task</span>\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># so read in a small chunk of it</span>\nCHUNK_SIZE <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">10000</span>\nFILE_PATH <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#A31515\">&#x27;./smart_data_data_Q4_2018_2018-10-01.json&#x27;</span>\ndf_reader <span class=\"token\" style=\"color:#393A34\">=</span> pd<span class=\"token\" style=\"color:#393A34\">.</span>read_json<span class=\"token\" style=\"color:#393A34\">(</span>FILE_PATH<span class=\"token\" style=\"color:#393A34\">,</span> lines<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">True</span><span class=\"token\" style=\"color:#393A34\">,</span> chunksize<span class=\"token\" style=\"color:#393A34\">=</span>CHUNK_SIZE<span class=\"token\" style=\"color:#393A34\">)</span>\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># get the first chunk</span>\nchunk <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token builtin\">next</span><span class=\"token\" style=\"color:#393A34\">(</span>df_reader<span class=\"token\" style=\"color:#393A34\">)</span>\nchunk<span class=\"token\" style=\"color:#393A34\">.</span>head<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><div><div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>hints</th>\n      <th>smartctl_json</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>{'is_backblaze': True, 'backblaze_ts': 1538352...</td>\n      <td>{'model_name': 'ST4000DM000', 'serial_number':...</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>{'is_backblaze': True, 'backblaze_ts': 1538352...</td>\n      <td>{'model_name': 'ST12000NM0007', 'serial_number...</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>{'is_backblaze': True, 'backblaze_ts': 1538352...</td>\n      <td>{'model_name': 'ST12000NM0007', 'serial_number...</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>{'is_backblaze': True, 'backblaze_ts': 1538352...</td>\n      <td>{'model_name': 'HGST HMS5C4040ALE640', 'serial...</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>{'is_backblaze': True, 'backblaze_ts': 1538352...</td>\n      <td>{'model_name': 'ST8000NM0055', 'serial_number'...</td>\n    </tr>\n  </tbody>\n</table>\n</div></div></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[15]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># split the dataset into data and corresponding labels for inferring schema</span>\ndata <span class=\"token\" style=\"color:#393A34\">=</span> chunk<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;smartctl_json&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span class=\"token builtin\">apply</span><span class=\"token\" style=\"color:#393A34\">(</span>pd<span class=\"token\" style=\"color:#393A34\">.</span>Series<span class=\"token\" style=\"color:#393A34\">)</span>\nlabels <span class=\"token\" style=\"color:#393A34\">=</span> chunk<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;hints&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span class=\"token builtin\">apply</span><span class=\"token\" style=\"color:#393A34\">(</span>pd<span class=\"token\" style=\"color:#393A34\">.</span>Series<span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[18]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#0000ff\">print</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;data shape =&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span> data<span class=\"token\" style=\"color:#393A34\">.</span>shape<span class=\"token\" style=\"color:#393A34\">)</span>\ndata<span class=\"token\" style=\"color:#393A34\">.</span>head<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><code class=\"nteract-display-area-stdout\"><span>data shape = (10000, 5)\n</span></code><div><div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>model_name</th>\n      <th>serial_number</th>\n      <th>model_family</th>\n      <th>user_capacity</th>\n      <th>ata_smart_attributes</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>ST4000DM000</td>\n      <td>Z305B2QN</td>\n      <td>ST4000DM000</td>\n      <td>{'bytes': 4000787030016}</td>\n      <td>{'table': [{'id': 1, 'value': 117, 'raw': {'va...</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>ST12000NM0007</td>\n      <td>ZJV0XJQ4</td>\n      <td>ST12000NM0007</td>\n      <td>{'bytes': 12000138625024}</td>\n      <td>{'table': [{'id': 1, 'value': 68, 'raw': {'val...</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>ST12000NM0007</td>\n      <td>ZJV0XJQ0</td>\n      <td>ST12000NM0007</td>\n      <td>{'bytes': 12000138625024}</td>\n      <td>{'table': [{'id': 1, 'value': 79, 'raw': {'val...</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>HGST HMS5C4040ALE640</td>\n      <td>PL1331LAHG1S4H</td>\n      <td>HGST HMS5C4040ALE640</td>\n      <td>{'bytes': 4000787030016}</td>\n      <td>{'table': [{'id': 1, 'value': 100, 'raw': {'va...</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>ST8000NM0055</td>\n      <td>ZA16NQJR</td>\n      <td>ST8000NM0055</td>\n      <td>{'bytes': 8001563222016}</td>\n      <td>{'table': [{'id': 1, 'value': 80, 'raw': {'val...</td>\n    </tr>\n  </tbody>\n</table>\n</div></div></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[19]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#0000ff\">print</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;labels shape =&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span> labels<span class=\"token\" style=\"color:#393A34\">.</span>shape<span class=\"token\" style=\"color:#393A34\">)</span>\nlabels<span class=\"token\" style=\"color:#393A34\">.</span>head<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><code class=\"nteract-display-area-stdout\"><span>labels shape = (10000, 3)\n</span></code><div><div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>is_backblaze</th>\n      <th>backblaze_ts</th>\n      <th>backblaze_failure_label</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>True</td>\n      <td>1.538352e+12</td>\n      <td>False</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>True</td>\n      <td>1.538352e+12</td>\n      <td>False</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>True</td>\n      <td>1.538352e+12</td>\n      <td>False</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>True</td>\n      <td>1.538352e+12</td>\n      <td>False</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>True</td>\n      <td>1.538352e+12</td>\n      <td>False</td>\n    </tr>\n  </tbody>\n</table>\n</div></div></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[26]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># ata_smart_attributes seems to be a dictionary with multiple values. lets dive deeper into it</span>\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># this section assumes key/value structure does not change across rows</span>\ndata<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;ata_smart_attributes&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span>keys<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><pre><code><span>dict_keys([&#x27;table&#x27;])</span></code></pre></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[27]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># what does the value at table look like</span>\ndata<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;ata_smart_attributes&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;table&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><pre><code><span>[{&#x27;id&#x27;: 1, &#x27;value&#x27;: 117, &#x27;raw&#x27;: {&#x27;value&#x27;: 148579464, &#x27;string&#x27;: 148579464}},\n {&#x27;id&#x27;: 3, &#x27;value&#x27;: 91, &#x27;raw&#x27;: {&#x27;value&#x27;: 0, &#x27;string&#x27;: 0}},\n {&#x27;id&#x27;: 4, &#x27;value&#x27;: 100, &#x27;raw&#x27;: {&#x27;value&#x27;: 12, &#x27;string&#x27;: 12}},\n {&#x27;id&#x27;: 5, &#x27;value&#x27;: 100, &#x27;raw&#x27;: {&#x27;value&#x27;: 0, &#x27;string&#x27;: 0}},\n {&#x27;id&#x27;: 7, &#x27;value&#x27;: 82, &#x27;raw&#x27;: {&#x27;value&#x27;: 167981075, &#x27;string&#x27;: 167981075}},\n {&#x27;id&#x27;: 9, &#x27;value&#x27;: 73, &#x27;raw&#x27;: {&#x27;value&#x27;: 24506, &#x27;string&#x27;: 24506}},\n {&#x27;id&#x27;: 10, &#x27;value&#x27;: 100, &#x27;raw&#x27;: {&#x27;value&#x27;: 0, &#x27;string&#x27;: 0}},\n {&#x27;id&#x27;: 12, &#x27;value&#x27;: 100, &#x27;raw&#x27;: {&#x27;value&#x27;: 12, &#x27;string&#x27;: 12}},\n {&#x27;id&#x27;: 183, &#x27;value&#x27;: 100.0, &#x27;raw&#x27;: {&#x27;value&#x27;: 0.0, &#x27;string&#x27;: 0.0}},\n {&#x27;id&#x27;: 184, &#x27;value&#x27;: 100.0, &#x27;raw&#x27;: {&#x27;value&#x27;: 0.0, &#x27;string&#x27;: 0.0}},\n {&#x27;id&#x27;: 187, &#x27;value&#x27;: 100.0, &#x27;raw&#x27;: {&#x27;value&#x27;: 0.0, &#x27;string&#x27;: 0.0}},\n {&#x27;id&#x27;: 188, &#x27;value&#x27;: 100.0, &#x27;raw&#x27;: {&#x27;value&#x27;: 0.0, &#x27;string&#x27;: 0.0}},\n {&#x27;id&#x27;: 189, &#x27;value&#x27;: 100.0, &#x27;raw&#x27;: {&#x27;value&#x27;: 0.0, &#x27;string&#x27;: 0.0}},\n {&#x27;id&#x27;: 190, &#x27;value&#x27;: 78.0, &#x27;raw&#x27;: {&#x27;value&#x27;: 22.0, &#x27;string&#x27;: 22.0}},\n {&#x27;id&#x27;: 191, &#x27;value&#x27;: 100.0, &#x27;raw&#x27;: {&#x27;value&#x27;: 0.0, &#x27;string&#x27;: 0.0}},\n {&#x27;id&#x27;: 192, &#x27;value&#x27;: 100.0, &#x27;raw&#x27;: {&#x27;value&#x27;: 0.0, &#x27;string&#x27;: 0.0}},\n {&#x27;id&#x27;: 193, &#x27;value&#x27;: 83.0, &#x27;raw&#x27;: {&#x27;value&#x27;: 34164.0, &#x27;string&#x27;: 34164.0}},\n {&#x27;id&#x27;: 194, &#x27;value&#x27;: 22, &#x27;raw&#x27;: {&#x27;value&#x27;: 22, &#x27;string&#x27;: 22}},\n {&#x27;id&#x27;: 197, &#x27;value&#x27;: 100, &#x27;raw&#x27;: {&#x27;value&#x27;: 0, &#x27;string&#x27;: 0}},\n {&#x27;id&#x27;: 198, &#x27;value&#x27;: 100, &#x27;raw&#x27;: {&#x27;value&#x27;: 0, &#x27;string&#x27;: 0}},\n {&#x27;id&#x27;: 199, &#x27;value&#x27;: 200, &#x27;raw&#x27;: {&#x27;value&#x27;: 0, &#x27;string&#x27;: 0}},\n {&#x27;id&#x27;: 240, &#x27;value&#x27;: 100.0, &#x27;raw&#x27;: {&#x27;value&#x27;: 24254.0, &#x27;string&#x27;: 24254.0}},\n {&#x27;id&#x27;: 241,\n  &#x27;value&#x27;: 100.0,\n  &#x27;raw&#x27;: {&#x27;value&#x27;: 43695026832.0, &#x27;string&#x27;: 43695026832.0}},\n {&#x27;id&#x27;: 242,\n  &#x27;value&#x27;: 100.0,\n  &#x27;raw&#x27;: {&#x27;value&#x27;: 102475323768.0, &#x27;string&#x27;: 102475323768.0}}]</span></code></pre></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-iwsKbI exQuEV markdown\"><h1>Results - Anatomy of a json file</h1>\n<ol start=\"0\">\n<li>The dataset is made up of 92 such json files</li>\n</ol>\n<ol>\n<li>Each json file has two columns (keys) - hints and smartctl_json</li>\n</ol>\n<ol start=\"2\">\n<li>In hints column, each row is a json with keys backblaze_failure_label, is_backblaze, backblaze_ts. This means each of the ~96000 hard drives has values corresponding to these three keys.</li>\n</ol>\n<ol start=\"3\">\n<li>In smartctl_json column, each row is a json with keys ata_smart_attributes, model_name, serial_number, model_family, user_capacity. </li>\n</ol>\n<ol start=\"4\">\n<li>ata_smart_attributes itself is a json with ONLY ONE KEY - table. The value at table is a list. Each member of the list is a json with keys id, value, raw. id is the SMART stat number, value is its normalized value (<strong>note</strong>: not sure how this is normalized), raw is a json with keys value, string (its raw value as an int, and as a string).</li>\n</ol>\n<ol start=\"5\">\n<li>user_capacity is another json with ONLY ONE KEY - bytes.</li>\n</ol></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><div class=\"sc-bwzfXH jsVRSS prompt\">[ ]</div><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"></code></pre></div></div></div></div>","fields":{"srcLink":"https://github.com/aicoe-aiops/ceph_drive_failure/blob/master/notebooks/step0_smartctl_json_db_format_finder.ipynb"}}},"pageContext":{"id":"64253b00-dbe9-520e-8310-08821d7eb463 >>> JupyterNotebook"}},"staticQueryHashes":["117426894","3000541721"]}