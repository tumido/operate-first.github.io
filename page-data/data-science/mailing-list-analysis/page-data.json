{"componentChunkName":"component---src-templates-markdown-js","path":"/data-science/mailing-list-analysis/","result":{"data":{"site":{"siteMetadata":{"title":"Operate First"}},"markdownRemark":{"id":"6490b337-6f28-5fc3-a5cd-3c8697e7ad2e","html":"<h1 id=\"mailing-list-analysis-toolkit\" style=\"position:relative;\"><a href=\"#mailing-list-analysis-toolkit\" aria-label=\"mailing list analysis toolkit permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mailing List Analysis Toolkit</h1>\n<p>This repository contains example code for how to develop a custom end-to-end email analytics service using the Open Data Hub on OpenShift. Although the specific example here is a mailing list analysis tool, our hope is to show that this approach could be easily modified and adapted to many intelligent application use cases.</p>\n<h1 id=\"\" style=\"position:relative;\"><a href=\"#\" aria-label=\" permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<h2 id=\"project-assumptions\" style=\"position:relative;\"><a href=\"#project-assumptions\" aria-label=\"project assumptions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Project Assumptions</h2>\n<p>This repository assumes that you have an existing Open Data Hub deployed on OpenShift that includes, JupyterHub, Argo, Ceph, Hive, Cloudera Hue and Apache Superset.</p>\n<ul class=\"pf-c-list\">\n<li>Take a look at <a href=\"https://www.opendatahub.io\">opendatahub.io</a> for details on the open data hub platform.</li>\n<li>Details of our existing public deployment can be found at <a href=\"https://www.operate-first.cloud/\">operate-first.cloud</a>.</li>\n</ul>\n<h1 id=\"-1\" style=\"position:relative;\"><a href=\"#-1\" aria-label=\" 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<h2 id=\"project-overview\" style=\"position:relative;\"><a href=\"#project-overview\" aria-label=\"project overview permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Project Overview</h2>\n<p>The purpose of this project is to develop and maintain an open source NLP application that provides regular and up-to-date analytics for large open source development project  mailing lists.</p>\n<h3 id=\"current-lists-datasets\" style=\"position:relative;\"><a href=\"#current-lists-datasets\" aria-label=\"current lists datasets permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>Current Lists/ Datasets</strong></h3>\n<ul class=\"pf-c-list\">\n<li><a href=\"https://lists.fedoraproject.org/archives/list/devel@lists.fedoraproject.org/\">Fedora Devel</a></li>\n<li>? (please open an issue if you’d like another mailing list included)</li>\n</ul>\n<h3 id=\"application-overview\" style=\"position:relative;\"><a href=\"#application-overview\" aria-label=\"application overview permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>Application Overview</strong></h3>\n<p>At a high level, this application can be seen as an <a href=\"https://argoproj.github.io/argo/\">Argo Workflow</a> which orchestrates a set of Jupyter notebooks to push transformed data to Ceph. Each notebook is responsible for a single task and is used either for collecting raw data from the <a href=\"https://lists.fedoraproject.org/archives/\">Fedora HyperKitty mailing list archive</a> (our live data set), preprocessing that data, or performing some specific analytics task. In almost all cases, the notebooks both push their outputs to Ceph remote storage (for use in a future run) as well as maintain a local copy within a shared volume among the application’s pods for use by other notebook processes. Finally we use external tables in Apache Hive, with Hue, to connect the Ceph data to a SQL database for interactive visualization with Superset.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/45395e6d4abdbc8eccd090bf6c6e8642/4ad3a/app-overview.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.756756756756754%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKklEQVQY04WQy0rDQBSG82w+gs+ha5c+ieBCcWFdiIIb2ypYEEFaKzYxrcYEY5rJZK5pvID+nlxExYUDH3Mu/5xz5jj493y0/Az99t/fXmFGg9p2yvIZ1tq/FAWxgClIXLw0MWNhyhKGCjS+QUG+SBOMOxuQIofDOUdFnucNlS8kWDQFm1wg6a+BDdbBcguuJNTEQ9E9qbXVOykErlwXR90e4jiGEwT3GI6uceP6mM58Cj4i4wKRewn/vI94dwnp4TLiVOOBck+nZ0g2t8Hmc7AsA2cMW3sd7BzsQ1ITh1Hgm7TuKqRCEngQd2Ow3gqS41XMuaHpM8zCCEPvti4maLqM9GEQIAzDuoZT7UIpRWhorVubvqYNpFlA5UlDmzN0W/Ola6hqGNpnxSckzr4PgBTuoAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"app overview\"\n        title=\"app overview\"\n        src=\"/static/45395e6d4abdbc8eccd090bf6c6e8642/fcda8/app-overview.png\"\n        srcset=\"/static/45395e6d4abdbc8eccd090bf6c6e8642/12f09/app-overview.png 148w,\n/static/45395e6d4abdbc8eccd090bf6c6e8642/e4a3f/app-overview.png 295w,\n/static/45395e6d4abdbc8eccd090bf6c6e8642/fcda8/app-overview.png 590w,\n/static/45395e6d4abdbc8eccd090bf6c6e8642/efc66/app-overview.png 885w,\n/static/45395e6d4abdbc8eccd090bf6c6e8642/4ad3a/app-overview.png 1152w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"user-interaction\" style=\"position:relative;\"><a href=\"#user-interaction\" aria-label=\"user interaction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>User Interaction</strong></h3>\n<p>The primary output and user interface for this application is a <a href=\"https://superset.apache.org/\">Superset</a> dashboard. This tool allows us to define certain data visualization elements from our analysis that we would like to publish and share with others, while also including enough flexibility and interactivity to allow users to explore the data themselves.</p>\n<p>Our application is designed to automatically re-run the analyses on regular basis and ensure that the dashboard and all its plots are current and up to date.</p>\n<ul class=\"pf-c-list\">\n<li>Current <a href=\"https://superset.datahub.redhat.com/superset/dashboard/fedora_mail/\">Superset Dashboard</a> can be found here.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/39d39f1e9afa56b7cf953fe093888b2c/0e0c4/fedora-dashboard.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB30lEQVQoz31SXW/aQBD0b4/6nj/Ql/yCPrRSG4UoTltsKBSFLwkRolAgNHbAZ+OP891xnu5epChqq1ga2afd2Z2ZsxfFMfZJgrIsobWGUuofaKVd7S3Ude1meGl6cCRjzH8bjTaQqsYuTVBVFaSUb8LbJ8JN5qE1EWunipTyVj7TZllLZPkBeZ67XkZRFC/fDF7mFJZUUEySFSwNskSWZQ4tChhpYJsGmtTzMHbBsNY6qL8sV6ywIUIhMuzWG4zEFrePS2w3G0SxQJqRoqpAYzS9KzesIBXsgmjYPDyg1+/j52CA8XiMmO7DM41FXpTYxY9o/Y4x3m6hlyukRNxnBZ52Ajgat/14tK8GNlivVwjDEN3uD0RR/GxZc2ZaQZACzrExdElGUgyEimr1c51zNfwXkDXus6RQ0YKEshVCQFEEkmoeb+YMXj/USxk1sGSRD3xmdYZUsVV+UnJx324D+x0MdVSrNUyp4KlaI08zjHtfIQ4ZDoTobgiRbFEbi6foF+6nV2S5xN1yis7sO2Kxx6ezM7w/OUHHD9wC//QdFh8+wpO5xGh2i+tvLQwnEwr5BqF/iV4QYDCfo90fILj6guF8ina3jc/+NS57PVy0AvjnHYSdKWaLBc4vWpiMbvAHRLD0tnzfYYUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"fedora dashboard\"\n        title=\"fedora dashboard\"\n        src=\"/static/39d39f1e9afa56b7cf953fe093888b2c/fcda8/fedora-dashboard.png\"\n        srcset=\"/static/39d39f1e9afa56b7cf953fe093888b2c/12f09/fedora-dashboard.png 148w,\n/static/39d39f1e9afa56b7cf953fe093888b2c/e4a3f/fedora-dashboard.png 295w,\n/static/39d39f1e9afa56b7cf953fe093888b2c/fcda8/fedora-dashboard.png 590w,\n/static/39d39f1e9afa56b7cf953fe093888b2c/efc66/fedora-dashboard.png 885w,\n/static/39d39f1e9afa56b7cf953fe093888b2c/c83ae/fedora-dashboard.png 1180w,\n/static/39d39f1e9afa56b7cf953fe093888b2c/0e0c4/fedora-dashboard.png 1884w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"notebook-architecture\" style=\"position:relative;\"><a href=\"#notebook-architecture\" aria-label=\"notebook architecture permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>Notebook Architecture</strong></h3>\n<p>Currently notebooks are divided into two sub-directories <code class=\"language-text\">notebooks/01_collect_data</code> and <code class=\"language-text\">notebooks/02_analyses</code> depending on what stage in the argo workflow they belong to. This should make it explicit where notebooks go in the argo workflow dependency tree when defining it in the <code class=\"language-text\">wftmpl.yaml</code> manifest file. Ideally, the notebooks in <code class=\"language-text\">notebooks/01_collect_data</code> should not be dependent on each other (they could be run in parallel) and notebooks in <code class=\"language-text\">notebooks/02_analyses</code> should be independent of each other and only depend on the output of notebooks in <code class=\"language-text\">notebooks/01_collect_date</code>. That way we keep the workflow and dependency structure clear during development and we believe this architecture can be easily modified to accommodate more complex dependency requirements.</p>\n<p><strong>Current Notebooks</strong>:</p>\n<ul class=\"pf-c-list\">\n<li>\n<p>01<em>collect</em>data</p>\n<ul class=\"pf-c-list\">\n<li>collect_data (Download new data from source and push to remote storage)</li>\n<li>download_dataset (Download existing preprocessed data from remote storage)</li>\n<li>gz<em>to</em>raw (Convert downloaded *.gz files to raw mbox format)</li>\n<li>raw<em>to</em>meta (Process mbox files into monthly metadata *.csv and push to remote storage)</li>\n<li>raw<em>to</em>text(Process mbox files into monthly email body *.csv and push to remote storage)</li>\n<li>? (please open an issue if you would like an additional data collection or pre processing step added)</li>\n</ul>\n</li>\n<li>\n<p>02_analyses</p>\n<ul class=\"pf-c-list\">\n<li>contributor_analysis (Quantify users monthly activity and push to remote storage)</li>\n<li>keyword_analysis (Identify top Keywords for each month and push to remote storage)</li>\n<li>? (please open an issue if you would like an additional analysis added)</li>\n</ul>\n</li>\n</ul>\n<p><strong>Adding Notebooks</strong></p>\n<p>One of the key benefits of this approach is that it allows for the bulk of the development to be done directly in a jupyter notebook as well as making adding new analyses or preprocessing steps as simple adding a new notebook to the repository. For example, in order to add an additional analysis to the application one just needs to make submit a PR with a new notebook in <code class=\"language-text\">notebooks/02_analyses</code> and a small update to <code class=\"language-text\">manifest/wftmpl.yaml</code> to include the new notebook into the workflow.</p>\n<h3 id=\"automation-and-workflow-configurations\" style=\"position:relative;\"><a href=\"#automation-and-workflow-configurations\" aria-label=\"automation and workflow configurations permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Automation and Workflow Configurations</h3>\n<p>Please see the README at <a href=\"manifests/README.md\">manifests/README.md</a> for complete details on how to define the automation and application workflow via Argo.</p>","fields":{"srcLink":"https://github.com/aicoe-aiops/mailing-list-analysis-toolkit/blob/master/README.md"},"frontmatter":{"title":"","description":null}}},"pageContext":{"id":"6490b337-6f28-5fc3-a5cd-3c8697e7ad2e"}},"staticQueryHashes":["117426894","3000541721"]}