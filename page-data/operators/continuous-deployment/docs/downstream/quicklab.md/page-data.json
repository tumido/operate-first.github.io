{"componentChunkName":"component---src-templates-markdown-js","path":"/operators/continuous-deployment/docs/downstream/quicklab.md","result":{"data":{"site":{"siteMetadata":{"title":"Operate First"}},"markdownRemark":{"id":"84860759-ae03-57b4-adda-27a955ce5e6d","html":"<h1 id=\"quicklab\" style=\"position:relative;\"><a href=\"#quicklab\" aria-label=\"quicklab permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Quicklab</h1>\n<h2 id=\"set-up-a-new-quicklab-cluster\" style=\"position:relative;\"><a href=\"#set-up-a-new-quicklab-cluster\" aria-label=\"set up a new quicklab cluster permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Set up a new Quicklab cluster</h2>\n<ol class=\"pf-c-list\">\n<li>Go to <a href=\"https://quicklab.upshift.redhat.com/\">https://quicklab.upshift.redhat.com/</a> and log in (top right corner)</li>\n<li>Click <strong>New cluster</strong></li>\n<li>\n<p>Select <strong>openshift4upi</strong> template and a region you like the most, then select the reservation duration, the rest can be left as is:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2fdd250137a45304fb5dc792ebbf1f48/b7936/template_select.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.24324324324324%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgElEQVQoz52QQRLDIAhFuf9JY2yxVgg0EKfYRdeax9vIDPIVmLj3fq3j7qCi94bNDAoitRbX2DmIls9ikLaU9v2BWBsTsah6RJowtsD2OjJpIkW9ytBRbMYiBk8so950mkfiBePNx4BFxPyKf5t3DPPB7UetleXjK0DO+X/oi3wBiAwQa2WGc1QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Select a template\"\n        title=\"Select a template\"\n        src=\"/static/2fdd250137a45304fb5dc792ebbf1f48/fcda8/template_select.png\"\n        srcset=\"/static/2fdd250137a45304fb5dc792ebbf1f48/12f09/template_select.png 148w,\n/static/2fdd250137a45304fb5dc792ebbf1f48/e4a3f/template_select.png 295w,\n/static/2fdd250137a45304fb5dc792ebbf1f48/fcda8/template_select.png 590w,\n/static/2fdd250137a45304fb5dc792ebbf1f48/efc66/template_select.png 885w,\n/static/2fdd250137a45304fb5dc792ebbf1f48/b7936/template_select.png 1155w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><strong>Note</strong>: You may need to assign additional worker nodes for your cluster if you are planning to <a href=\"./odh-install-quicklab.md\">install multiple ODH components</a>.</p>\n</li>\n<li>Go to cluster page by clicking on the cluster name in <strong>My clusters</strong> table</li>\n<li>Once the cluster reaches <strong>Active</strong> state your cluster history should look like this:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2d0fcea4e44f2253a02ee1fe25f67a62/77f8f/cluster_log_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12.837837837837837%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZklEQVQI112NOw7AIAxDuf9JQaXhEwKGqS5MrQfr2VFk11obY5RScs6EvhVjVNUTCSmlw/RL0i1vNDNXa11r0fk/5wRAFxHvPRtsnf4F4NaeDWs3jssk+u85hMASX/EuaqV1gNvjAWeLrBqVD3isAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Cluster is active for the first time\"\n        title=\"Cluster is active for the first time\"\n        src=\"/static/2d0fcea4e44f2253a02ee1fe25f67a62/fcda8/cluster_log_1.png\"\n        srcset=\"/static/2d0fcea4e44f2253a02ee1fe25f67a62/12f09/cluster_log_1.png 148w,\n/static/2d0fcea4e44f2253a02ee1fe25f67a62/e4a3f/cluster_log_1.png 295w,\n/static/2d0fcea4e44f2253a02ee1fe25f67a62/fcda8/cluster_log_1.png 590w,\n/static/2d0fcea4e44f2253a02ee1fe25f67a62/efc66/cluster_log_1.png 885w,\n/static/2d0fcea4e44f2253a02ee1fe25f67a62/c83ae/cluster_log_1.png 1180w,\n/static/2d0fcea4e44f2253a02ee1fe25f67a62/77f8f/cluster_log_1.png 1353w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Now click on <strong>New Bundle</strong> button in <strong>Product information</strong> section</li>\n<li>Select <strong>openshift4upi</strong> bundle. A new form loads. <strong>Opt-in for the <code class=\"language-text\">htpasswd</code> credentials provider.</strong> (You can ignore the warning on top as well, since this is the first install attempt of Openshift on that cluster):\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f905d13c6365a059954fa79df820437c/1132d/bundle_select.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.78378378378378%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA/0lEQVQoz5WQ6WoDMQyE/f6P2B9JyqZZr/fwIV/rS5FTGkgpZDt8HmSD0UhMLCLG2J6q9aUu5W9qF0vnUzlfmhB1HOs0dee83m4dJavW3aWsSnfvV9UBKKUwvF7bMDQ+Ns5x4ki+LmgAAdBadA697zwLIoQOfTbagDHO2pQy5ak5U56G+ALp1wtij621Nsb4PfUZv6m1HFDOmRkAYy1BzcHSAR9TO6BH50nAtsG8eOv2lOO+k1P8t+Rc2OfHaRjG2+VLzFqmpmLZApHfsvrElFRKSi3VKiX4QE0LzXwMZp3zD4VAwV1MGVs7OrN33jkX+raPb/pn25zzeZ7b/0V97q/ZvJ+LnkWPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Select a bundle\"\n        title=\"Select a bundle\"\n        src=\"/static/f905d13c6365a059954fa79df820437c/fcda8/bundle_select.png\"\n        srcset=\"/static/f905d13c6365a059954fa79df820437c/12f09/bundle_select.png 148w,\n/static/f905d13c6365a059954fa79df820437c/e4a3f/bundle_select.png 295w,\n/static/f905d13c6365a059954fa79df820437c/fcda8/bundle_select.png 590w,\n/static/f905d13c6365a059954fa79df820437c/efc66/bundle_select.png 885w,\n/static/f905d13c6365a059954fa79df820437c/1132d/bundle_select.png 1158w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Wait for OCP4 to install. After successful installation you should see a cluster history log like this:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a7a0e24eb66af03f5f7b7b48cf642e0f/cad6c/cluster_log_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAh0lEQVQI12VPSw5EIQh79z+nyVM0/gGZ1VRNZjNNNAVarI/3Psa41ppz1lpBVBU8pYQbnJlLKSKCyWCm0qEQUSgfmEMIZgbRNQOQvu97S3Dn3JjzYzZFYxez/QAs2wz8m4noFwSjrV5riFJjbEF/m+ngxm6t6QHUaOacb3lX4AyW1PnExi/WF51m5E7LysD8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Cluster log after OCP4 install\"\n        title=\"Cluster log after OCP4 install\"\n        src=\"/static/a7a0e24eb66af03f5f7b7b48cf642e0f/fcda8/cluster_log_2.png\"\n        srcset=\"/static/a7a0e24eb66af03f5f7b7b48cf642e0f/12f09/cluster_log_2.png 148w,\n/static/a7a0e24eb66af03f5f7b7b48cf642e0f/e4a3f/cluster_log_2.png 295w,\n/static/a7a0e24eb66af03f5f7b7b48cf642e0f/fcda8/cluster_log_2.png 590w,\n/static/a7a0e24eb66af03f5f7b7b48cf642e0f/efc66/cluster_log_2.png 885w,\n/static/a7a0e24eb66af03f5f7b7b48cf642e0f/c83ae/cluster_log_2.png 1180w,\n/static/a7a0e24eb66af03f5f7b7b48cf642e0f/cad6c/cluster_log_2.png 1339w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Use the link and credentials from the <strong>Cluster Information</strong> section to access your cluster. Verify it contains login information for both <code class=\"language-text\">kube:admin</code> and <code class=\"language-text\">quicklab</code> user.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8a70b0e82af8b5d4ad86a372c4429cdf/5a6dd/cluster_information.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 99.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB0UlEQVQ4y5VU6VqjQBDk/d/Nb6OBRCDA3BcM56h/rYF4rLLGrXQ6QzKVvjtp29Za65yD7vt++B8k3nujDSCkBHma5ukN8y0koDHOrTFghhCWK+bfIJK54MZag1f03SIQZx08uk3uuk5HKHDGcRzGAQ7j8CvLSso0TcuyhAvRpnPQXUR7M+wEt9kKsoIxyjkXQkIjnz8Hn8CYEPH6BlhFurZsxyiG4YcQQG5lZEe6WYsGX8wKJG/TuLfsIcHvTdPQJmKNNMYN8d0V0T6aZ69/EiSHS6m0FkpRzqRSDSFoGGWM0go5wEHDBee6b0h6xto8b6vKU9YT2jfME+oJ83XT1aSrm7aq3aUeGjJ9Q+KKgt7dsYeUPxYyv/DHCz8XuiKGCk0E9HrgPRd7pcpz8ufA0ow83PM0ZekRfxeUDC/PaNbwFDZZQtjrsLKQh4M8HiHmdDLZyZ3Ok5DzEuYRUzJ/yE6p6pqez6TILaMDxkNrL+Wk1LxW+1aHKcWKghWlqGpNCNrNUKqVihXXSLNdPhX5Kxl7gAnBuEDNYGiIszFuZdx2Qz+O+BjXxy/dFkcyy7KqqrepcNtOMdd3PLceJX5fNX91GL7FGGgdl8E/4Fd5e/iEV95yUXnah3oXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Cluster information\"\n        title=\"Cluster information\"\n        src=\"/static/8a70b0e82af8b5d4ad86a372c4429cdf/fcda8/cluster_information.png\"\n        srcset=\"/static/8a70b0e82af8b5d4ad86a372c4429cdf/12f09/cluster_information.png 148w,\n/static/8a70b0e82af8b5d4ad86a372c4429cdf/e4a3f/cluster_information.png 295w,\n/static/8a70b0e82af8b5d4ad86a372c4429cdf/fcda8/cluster_information.png 590w,\n/static/8a70b0e82af8b5d4ad86a372c4429cdf/5a6dd/cluster_information.png 802w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Login as the <code class=\"language-text\">kube:admin</code>, take the value from “Hosts” and port 6443.\nFor example:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">oc login upi-0.tcoufaltest.lab.upshift.rdu2.redhat.com:6443</code></pre></div>\n<h2 id=\"install-argo-cd-on-your-cluster\" style=\"position:relative;\"><a href=\"#install-argo-cd-on-your-cluster\" aria-label=\"install argo cd on your cluster permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install Argo CD on your cluster</h2>\n<ol class=\"pf-c-list\">\n<li><code class=\"language-text\">kube:admin</code> is not supported in user api, that’s why we’ve opted in for the <code class=\"language-text\">htpasswd</code> provider during the bundle install.</li>\n<li>Log in as the <code class=\"language-text\">quicklab</code> user using the <code class=\"language-text\">htpasswd</code> provider in the web console. To create the Openshift user. Then log out.</li>\n<li>Login as the <code class=\"language-text\">kube:admin</code> user in the web console and your local cli client.</li>\n<li>\n<p>Grant the htpasswd’s <code class=\"language-text\">quicklab</code> user admin cluster-admin rights</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">oc adm policy add-cluster-role-to-user cluster-admin quicklab</code></pre></div>\n</li>\n<li>Now log out and log in using the htpasswd provider (the new username). Generate new API token and login via this token on your local CLI</li>\n<li>\n<p>Now you can follow the upstream docs. Create the projects:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">oc new-project argocd-test\noc new-project aicoe-argocd-dev</code></pre></div>\n</li>\n<li>Make sure you have imported the required <a href=\"../../README.md#gpg-key-access\">gpg keys</a></li>\n<li>\n<p>And deploy</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ kustomize build manifests/crds --enable_alpha_plugins | oc apply -f -\ncustomresourcedefinition.apiextensions.k8s.io/applications.argoproj.io created\ncustomresourcedefinition.apiextensions.k8s.io/appprojects.argoproj.io created\nclusterrole.rbac.authorization.k8s.io/argocd-events-create-aggregate-to-admin created\nclusterrole.rbac.authorization.k8s.io/argocd-proj-apps-aggregate-to-admin created\n\n$ kustomize build manifests/overlays/dev --enable_alpha_plugins | oc apply -f -\nserviceaccount/argocd-application-controller created\nserviceaccount/argocd-dex-server created\nserviceaccount/argocd-manager created\nserviceaccount/argocd-server created\nrole.rbac.authorization.k8s.io/argocd-application-controller created\nrole.rbac.authorization.k8s.io/argocd-dex-server created\nrole.rbac.authorization.k8s.io/argocd-server created\nclusterrole.rbac.authorization.k8s.io/argocd-manager-role created\nrolebinding.rbac.authorization.k8s.io/argocd-application-controller created\nrolebinding.rbac.authorization.k8s.io/argocd-dex-server created\nrolebinding.rbac.authorization.k8s.io/argocd-server created\nclusterrolebinding.rbac.authorization.k8s.io/argocd-manager-role-binding created\nconfigmap/argocd-cm created\nconfigmap/argocd-rbac-cm created\nconfigmap/argocd-ssh-known-hosts-cm created\nconfigmap/argocd-tls-certs-cm created\nsecret/argocd-dex-server-oauth-token created\nsecret/argocd-secret created\nsecret/dev-cluster-spec created\nsecret/ksops-pgp-key created\nservice/argocd-dex-server created\nservice/argocd-metrics created\nservice/argocd-redis created\nservice/argocd-repo-server created\nservice/argocd-server created\nservice/argocd-server-metrics created\ndeployment.apps/argocd-application-controller created\ndeployment.apps/argocd-dex-server created\ndeployment.apps/argocd-redis created\ndeployment.apps/argocd-repo-server created\ndeployment.apps/argocd-server created\nappproject.argoproj.io/dev created\napplication.argoproj.io/dev-app created\nroute.route.openshift.io/argocd-metrics created\nroute.route.openshift.io/argocd-server created\nroute.route.openshift.io/argocd-server-metrics created\n\n$ examples/configure_development.sh\nserviceaccount/argocd-dex-server patched\nsecret/argocd-secret patched\nconfigmap/argocd-cm replaced\nsecret/dev-cluster-spec patched\nsecret/dev-cluster-spec patched\napplication.argoproj.io/dev-app replaced\ngroup.user.openshift.io/dev-group created\ngroup.user.openshift.io/dev-group added: &quot;username&quot;</code></pre></div>\n</li>\n</ol>","fields":{"srcLink":"https://github.com/operate-first/continuous-deployment/blob/master/docs/downstream/quicklab.md"},"frontmatter":{"title":"","description":null}}},"pageContext":{"id":"84860759-ae03-57b4-adda-27a955ce5e6d"}},"staticQueryHashes":["117426894","3000541721"]}